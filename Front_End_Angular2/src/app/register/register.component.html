
<div  id="register" class="container">
  <h1>Register Form</h1>
  <form #signupForm="ngForm" (ngSubmit)="registerUser(signupForm)">
    <div class="row">
        <div class="col-sm-6">
                  <div class="form-group">
                    <label for="username">Username</label>
                    <input type="text" class="form-control" id="username" placeholder="username" name="username" [(ngModel)]="username" required minlength="6" maxlength="15" (change) ="onChangeUsername()" #userName="ngModel">
                  </div>
                          <div *ngIf="userName.invalid && (userName.dirty || userName.touched)"
                              class="help-block">

                                  <div *ngIf="userName.errors.required" class="wrong">
                                    Username is required!
                                  </div>
                                  <div *ngIf="userName.errors.minlength" class="wrong">
                                    Username must be at least 6 characters long!
                                  </div>
                              </div>
                             <div *ngIf="userName.valid && (userName.dirty || userName.touched)"
                              class="help-block">
                                    <div *ngIf="userAvail === 'yes'" class="legit">
                                    Username is Available
                                  </div>
                                  <div *ngIf="userAvail === 'no'" class="wrong">
                                    Another User use that name!
                                  </div>
                              </div>
                  <div class="form-group">
                     <label for="password">Password</label>
                     <input type="password" class="form-control" id="password" placeholder="password" name="password" ngModel required minlength="6" #password ="ngModel">
                  </div>        
                              <div *ngIf="password.invalid && (password.dirty || password.touched)"
                              class="help-block">
                                    
                                  <div *ngIf="password.errors.required">
                                    Password is required!
                                  </div>
                                  <div *ngIf="password.errors.minlength">
                                    Password must be at least 6 characters long!
                                  </div>

                              </div>
                      
                  <div class="form-group">
                    <label for="password2">Password Verification</label>
                    <input type="password" class="form-control" id="password2" placeholder="password" name="password2" ngModel required minlength="6" #password2="ngModel">
                  </div>
                            <div *ngIf="password2.value!==password.value && (password2.dirty || password2.touched) "
                              class="help-block">
                                    
                                  
                                    Passwords don't match!
                  

                              </div>
                  <div class="form-group">
                    <label for="name">Name</label>
                    <input type="text" class="form-control" id="name" placeholder="name" name="name" ngModel required>
                  </div>
                  <div class="form-group">
                    <label for="surname">Surname</label>
                    <input type="text" class="form-control" id="surname" placeholder="surname" name="surname" ngModel required>
                  </div>
                  <div class="form-group">
                    <label for="email">Email</label>
                    <input type="text" class="form-control" id="email" placeholder="email" name="email" [(ngModel)]="email" required email (change)="onChangeEmail()" #Email="ngModel">
                  </div>

                          <div *ngIf="Email.invalid && (Email.dirty || Email.touched)"
                              class="help-block">

                                  <div *ngIf="Email.errors.required">
                                    Email is required!
                                  </div>
                                  <div *ngIf="Email.errors.email">
                                     Please enter a valid e-mail!
                                  </div>

                          </div>
                          <div *ngIf="Email.valid && (Email.dirty || Email.touched)"
                              class="help-block">
                                    <div *ngIf="emailAvail === 'yes'" class="legit">
                                     Email is valid
                                  </div>
                                  <div *ngIf="emailAvail === 'no'" class="wrong">
                                    There is another user with that email!
                                  </div>
                              </div>


            </div>
        <div class="col-sm-6">
                  <div class="form-group">
                     <label for="phone">Phone</label>
                     <input type="text" class="form-control" id="phone" placeholder="phone" name="phone" ngModel required>
                  </div>
                  <div class="form-group">
                    <label for="address">Address</label>
                    <input type="text" class="form-control" id="address" placeholder="address" name="address" ngModel required>
                  </div>
                  <div class="form-group">
                    <label for="city">City</label>
                    <input type="text" class="form-control" id="city" placeholder="city" name="city" ngModel required>
                  </div>
                  <div class="form-group">
                    <label for="country">Country</label>
                    <input type="text" class="form-control" id="country" placeholder="country" name="country" ngModel required>
                  </div>
                  <div class="form-group">
                    <label for="afm">Tax Identification Number</label>
                    <input type="text" class="form-control" id="afm" placeholder="Tax Identification Number" name="taxid" ngModel required minlength="9" maxlength="9" #afm="ngModel">
                  </div>

                           <div *ngIf="afm.invalid && (afm.dirty || afm.touched)"
                              class="help-block">

                                  <div *ngIf="afm.errors.required">
                                    Tax Identification Number is required!
                                  </div>
                                  <div *ngIf="afm.errors.minlength">
                                     Tax Identification Number is nine bits long!
                                  </div>

                          </div>

                   <div id="button">
                    <button type="submit" class="btn btn-default" [disabled]="!signupForm.valid || password2.value !== password.value">Submit</button>
                  </div>
        </div>
      </div>
  </form>
</div>
<!-- if rejects the data for username,email or passwordver the server *ngIf="reg_err" class="alert-danger" -->
<div class="container">
  <div *ngIf="reg_err" class="alert alert-danger">
      See the info and try again
  </div>
</div>